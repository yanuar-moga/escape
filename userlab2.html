<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Panel Chromebook Lab 2</title>

<style>
    body {
        font-family: Arial, sans-serif;
        background:#222;
        color:#fff;
    }
    h1 {
        text-align:center;
        margin-bottom:20px;
    }
    .grid {
        display:grid;
        grid-template-columns:repeat(6,1fr);
        gap:12px;
        padding:20px;
    }
    .card {
        background:#333;
        border-radius:10px;
        padding:15px;
        border:2px solid #444;
    }
    .card.marked {
        background:purple;
        border:2px solid #fff;
    }
    .btn {
        background:#0099ff;
        color:#fff;
        border:none;
        width:100%;
        padding:6px;
        border-radius:6px;
        margin-top:10px;
        cursor:pointer;
    }
    .btn:hover {
        background:#0077cc;
    }
    #logButton {
        margin:20px;
        padding:10px;
        background:#00cc66;
        color:#fff;
        border:none;
        border-radius:6px;
        cursor:pointer;
    }
</style>
</head>

<body>

<h1>Panel Chromebook Lab 2</h1>

<div class="grid" id="grid"></div>

<button id="logButton" onclick="downloadLog()">Download log.txt</button>

<script>
/* =============================
   DATABASE DATA
============================= */

// Wifi data 1–36
const wifi = [];
for(let i=1;i<=36;i++){
    wifi.push({
        user: i+"lab2",
        pass: i
    });
}

// Akun belajar data (1–15 diberikan)
const belajar = [
"putri.wika67@smp.belajar.id",
"kallista.putri192@smp.belajar.id",
"yulia.al83@smp.belajar.id",
"nazril.hidayatullah18@smp.belajar.id",
"muhammad.febri1219@smp.belajar.id",
"muhamad.rizkan48@smp.belajar.id",
"safania.52@smp.belajar.id",
"nia.hidayati013@smp.belajar.id",
"nayilla_azzahra25@smp.belajar.id",
"widya.setya31@smp.belajar.id",
"yusuf.fahreza18@smp.belajar.id",
"muhamad.arif3591@smp.belajar.id",
"muhamad.faiz3380@smp.belajar.id",
"muhammad.khairul8017@smp.belajar.id",
"aisyatul.maulida49@smp.belajar.id"
];

/* buat 16–36 kosong */
for(let i=15;i<36;i++){
    belajar.push("(belum ada)");
}


/* =============================
   RENDER GRID
============================= */

function render(){
    const grid=document.getElementById("grid");
    grid.innerHTML="";

    for(let i=1;i<=36;i++){
        const div=document.createElement("div");
        div.className="card";
        if(localStorage.getItem("mark"+i)){
            div.classList.add("marked");
        }

        div.innerHTML=`
            <b>Meja ${i}</b><br><br>
            <b>WiFi:</b><br>
            User: ${wifi[i-1].user}<br>
            Password: ${wifi[i-1].pass}<br><br>

            <b>Belajar.id:</b><br>
            Email: ${belajar[i-1]}<br>
            Password: Belajar2025!<br><br>

            <button class="btn" onclick="mark(${i})">Tandai</button>
        `;
        grid.appendChild(div);
    }
}

render();


/* =============================
   SYSTEM MARK / LOG
============================= */

function mark(meja){
    const catatan = prompt("Tulis kendala di meja "+meja+":");
    if(catatan===null || catatan==="") return;

    const waktu = new Date().toLocaleString("id-ID");
    const logLine = `Meja ${meja} | ${waktu} | ${catatan}\n`;

    // simpan mark di localStorage
    localStorage.setItem("mark"+meja,catatan);

    // simpan log
    let log = localStorage.getItem("logtxt") || "";
    log += logLine;
    localStorage.setItem("logtxt",log);

    render();
}


/* =============================
   DOWNLOAD LOG.TXT
============================= */

function downloadLog(){
    let log = localStorage.getItem("logtxt") || "Belum ada log...";
    const blob = new Blob([log],{type:"text/plain"});
    const url = URL.createObjectURL(blob);

    const a=document.createElement("a");
    a.href=url;
    a.download="log.txt";
    a.click();
}
</script>

</body>
</html>
